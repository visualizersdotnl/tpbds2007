
#include "../../core/stdps.inc"

sampler2D envMap;

struct VS_OUTPUT 
{
	float4 color : COLOR0;
	float2 UV : TEXCOORD0;
	float1 viewZ : TEXCOORD1;
};

float4 main(in VS_OUTPUT input) : COLOR
{
	return ApplyLinearFog(input.viewZ, input.color * tex2D(envMap, input.UV));
}
